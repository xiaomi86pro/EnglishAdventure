<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English for Kids - Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chalkboard+SE:wght@400;700&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- 1. Cột UserUI bên trái (1/6 màn hình, dài hết cỡ) -->
    <aside id="userUI" class="w-1/6 h-full rounded-3xl p-4 flex flex-col items-center gap-6 game-card">
        <!-- Nội dung sẽ được thêm vào đây -->
    </aside>

    <!-- 3. Khung Container ở giữa (Chiếm phần còn lại) -->
    <main id="container" class="flex-1 h-full flex flex-col gap-2">
        
        <!-- Vùng 1: Battle View (1/3 khung giữa) -->
        <section id="battleview" class="h-1/3 rounded-3xl p-4 game-card relative overflow-hidden">
            <div class="flex justify-between items-center h-full">
                <div id="hero" class="sprite"></div>
                <div id="monster" class="sprite"></div>
            </div>
        </section>

        <!-- Vùng 2: Question Area (Phần còn lại chiếm 2/3) -->
        <section id="questionarea" class="flex-1 rounded-3xl p-6 game-card flex flex-col items-center justify-center">
            <!-- Nội dung sẽ được thêm vào đây -->
        </section>
    </main>

    <!-- 2. Cột Dashboard bên phải (1/6 màn hình, dài hết cỡ) -->
    <aside id="dashboard" class="w-1/6 h-full rounded-3xl p-4 flex flex-col gap-4 game-card">
        <div id="monster-info"></div>
        <div id="answers-history" class="mt-4 space-y-2 flex-1 overflow-y-auto pr-2"></div>
    </aside>
    <!-- Utils first -->
    <script type="module" src="/src/js/utils/DOMUtil.js"></script>
    <script type="module" src="/src/js/utils/EffectsUtil.js"></script>

    <!-- Config -->
    <script type="module" src="/src/js/core/GameConfig.js"></script>

    <!-- Handlers -->
    <script type="module" src="/src/js/handlers/MonsterHandler.js"></script>
    <script type="module" src="/src/js/handlers/HeroHandler.js"></script>

    <!-- Managers -->
    <script type="module" src="/src/js/managers/StateManager.js"></script>
    <script type="module" src="/src/js/managers/UIManager.js"></script>
    <script type="module" src="/src/js/managers/BattleManager.js"></script>
    <script type="module" src="/src/js/managers/ProgressionManager.js"></script>

    <!-- Core - CUỐI CÙNG -->
    <script type="module" src="/src/js/core/GameEngine.js"></script>


    <script type="module" src="/src/js/supabase_config.js"></script>
    <script type="module" src="/src/js/audio_manager.js"></script> 
    <script type="module" src="/src/js/auth/auth_component.js"></script>
    <!--<script type="module" src="/src/js/game_engine.js"></script>-->
    <script type="module" src="/src/js/question/question_manager.js"></script>
    <script>
        // Đảm bảo Supabase đã load xong rồi mới init Auth
        window.addEventListener('load', () => {
            if (window.AuthComponent) {
                AuthComponent.init();
            }
        });
    </script>
</body>
</html>
