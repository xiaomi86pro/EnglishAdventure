<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English for Kids - Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chalkboard+SE:wght@400;700&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Comic Neue', 'Chalkboard SE', cursive;
            background-color: #f0f9ff;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            display: flex;
            padding: 0.5rem;
            gap: 0.5rem;
        }
        
        /* Hiệu ứng đổ bóng cho các khối */
        .game-card {
            box-shadow: 0 8px 0px rgba(0, 0, 0, 0.1);
            border: 4px solid #fff;
        }

        /* Tùy chỉnh màu sắc hoạt hình */
        #dashboard { background-color: #ffcfd2; }
        #userUI { background-color: #cffaff; }
        #battleview { background-color: #e2f0cb; }
        #questionarea { background-color: #ffffff; }

        /* Scrollbar tùy chỉnh */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #ff9aa2; border-radius: 10px; }

        #battleview {
            position: relative;
            width: 100%;
            height: 260px;
            overflow: hidden;
            --hero-run: 0px;
            --monster-run: 0px;
        }

        #hero,
        #monster {
            position: absolute;
            bottom: 0;
            transition: transform 0.4s linear;
        }
        #hero {
            left: 40px;
            transform: translateX(0);
            transform: translateX(var(--hero-run));

        }

        #monster {
            right: 15%;
            transform: translateX(0);
            transform: translateX(calc(-1 * var(--monster-run)));
        }
        
    </style>
</head>
<body>

    <!-- 1. Cột Dashboard bên trái (1/6 màn hình, dài hết cỡ) -->
    <aside id="dashboard" class="w-1/6 h-full rounded-3xl p-4 flex flex-col gap-4 game-card">
        <!-- Nội dung sẽ được thêm vào đây -->
        <div class="mt-auto border-t-2 border-white/50 pt-4">
            <a href="admin.html" class="flex items-center gap-2 p-3 rounded-2xl bg-white/30 hover:bg-white/50 transition-all text-red-600 font-bold group">
                <span class="text-2xl group-hover:rotate-90 transition-transform duration-500">⚙️</span>
                <span class="text-sm uppercase tracking-wider">Quản trị</span>
            </a>
        </div>
    </aside>

    <!-- 3. Khung Container ở giữa (Chiếm phần còn lại) -->
    <main id="container" class="flex-1 h-full flex flex-col gap-2">
        
        <!-- Vùng 1: Battle View (1/3 khung giữa) -->
        <section id="battleview" class="h-1/3 rounded-3xl p-4 game-card relative overflow-hidden">
            <div id="hero"></div>
            <div id="monster"></div>
        </section>

        <!-- Vùng 2: Question Area (Phần còn lại chiếm 2/3) -->
        <section id="questionarea" class="flex-1 rounded-3xl p-6 game-card flex flex-col items-center justify-center">
            <!-- Nội dung sẽ được thêm vào đây -->
        </section>

    </main>

    <!-- 2. Cột User UI bên phải (1/6 màn hình, dài hết cỡ) -->
    <aside id="userUI" class="w-1/6 h-full rounded-3xl p-4 flex flex-col items-center gap-6 game-card">
        <!-- Nội dung sẽ được thêm vào đây -->
    </aside>
    <script type="module" src="js/supabase_config.js"></script>
    <script src="./js/auth_component.js"></script>
    <script src="./js/game_engine.js"></script>
    <script src="./js/question/question1.js"></script>
    <script>
        // Đảm bảo Supabase đã load xong rồi mới init Auth
        window.addEventListener('load', () => {
            if (window.AuthComponent) {
                AuthComponent.init();
            }
        });
    </script>

</body>
</html>