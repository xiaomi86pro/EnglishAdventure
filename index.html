<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English for Kids - Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chalkboard+SE:wght@400;700&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- 1. C·ªôt UserUI b√™n tr√°i (1/6 m√†n h√¨nh) -->
    <aside id="userUI" class="w-1/6 h-full rounded-3xl p-4 flex flex-col gap-4 game-card overflow-y-auto">
        
        <!-- ‚úÖ SLOT 1: Leaderboard (Lu√¥n hi·ªán) -->
        <div id="leaderboard-slot" class="w-full bg-white rounded-2xl p-4 border-2 border-yellow-400/50">
            <h3 class="text-center text-yellow-400 font-black text-lg mb-3 flex items-center justify-center gap-2">
                üèÜ Vinh Danh üèÜ
            </h3>
            <div id="leaderboard-list" class="space-y-2 max-h-96 overflow-y-auto">
                <p class="text-white/50 text-xs text-center">ƒêang t·∫£i...</p>
            </div>
        </div>

        <!-- ‚úÖ SLOT 2: User Info (Ch·ªâ hi·ªán trong game) -->
        <div id="user-info-slot" class="w-full bg-white/70 rounded-2xl p-4 border-4 border-blue-200 shadow-lg hidden">
            <!-- UIManager s·∫Ω update n·ªôi dung v√†o ƒë√¢y -->
        </div>

        <!-- ‚úÖ SLOT 3: Action Buttons (C√°c n√∫t Exit, Admin, etc.) -->
        <div id="action-buttons-slot" class="w-full flex flex-col gap-2 mt-auto">
            <!-- UIManager s·∫Ω th√™m n√∫t v√†o ƒë√¢y -->
        </div>

    </aside>

    <!-- 3. Khung Container ·ªü gi·ªØa (Chi·∫øm ph·∫ßn c√≤n l·∫°i) -->
    <main id="container" class="flex-1 h-full flex flex-col gap-2">
        
        <!-- V√πng 1: Battle View (1/3 khung gi·ªØa) -->
        <section id="battleview" class="h-1/3 rounded-3xl p-4 game-card relative overflow-hidden">
            <div class="flex justify-between items-center h-full">
                <div id="hero" class="sprite"></div>
                <div id="monster" class="sprite"></div>
            </div>
        </section>

        <!-- V√πng 2: Question Area (Ph·∫ßn c√≤n l·∫°i chi·∫øm 2/3) -->
        <section id="questionarea" class="flex-1 rounded-3xl p-6 game-card flex flex-col items-center justify-center">
            <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
        </section>
    </main>

    <!-- 2. C·ªôt Dashboard b√™n ph·∫£i (1/6 m√†n h√¨nh, d√†i h·∫øt c·ª°) -->
    <aside id="dashboard" class="w-1/6 h-full rounded-3xl p-4 flex flex-col gap-4 game-card">
        
        <!-- ‚úÖ SLOT 1: Monster Info -->
        <div id="monster-info-slot" class="w-full bg-white/50 rounded-2xl p-3 border-2 border-red-200 hidden">
            <div id="monster-info">
                <p class="text-gray-500 text-sm text-center hidden">Ch∆∞a c√≥ d·ªØ li·ªáu</p>
            </div>
        </div>

        <!-- ‚úÖ SLOT 2: Answers History -->
        <div id="answers-history-slot" class="flex-1 bg-white/50 rounded-2xl p-3 border-2 border-green-200 overflow-hidden flex flex-col hidden">
            <h3 class="text-lg font-black text-green-600 uppercase mb-2">L·ªãch s·ª≠</h3>
            <div id="answers-history" class="flex-1 space-y-2 overflow-y-auto pr-2">
            </div>
        </div>

    </aside>

    <!-- Utils first -->
    <script type="module" src="/src/js/utils/DOMUtil.js"></script>
    <script type="module" src="/src/js/utils/EffectsUtil.js"></script>
    <script type="module" src="/src/js/utils/LevelUtil.js"></script>

    <!-- ‚úÖ Leaderboard Widget -->
    <script type="module" src="/src/js/LeaderboardWidget.js"></script>

    <!-- Config -->
    <script type="module" src="/src/js/core/GameConfig.js"></script>

    <!-- Handlers -->
    <script type="module" src="/src/js/handlers/MonsterHandler.js"></script>
    <script type="module" src="/src/js/handlers/HeroHandler.js"></script>

    <!-- Managers -->
    <script type="module" src="/src/js/managers/StateManager.js"></script>
    <script type="module" src="/src/js/managers/UIManager.js"></script>
    <script type="module" src="/src/js/managers/BattleManager.js"></script>
    <script type="module" src="/src/js/managers/ProgressionManager.js"></script>

    <!-- Core - CU·ªêI C√ôNG -->
    <script type="module" src="/src/js/core/GameEngine.js"></script>


    <script type="module" src="/src/js/supabase_config.js"></script>
    <script type="module" src="/src/js/audio_manager.js"></script> 
    <script type="module" src="/src/js/auth/auth_component.js"></script>
    <script type="module" src="/src/js/question/question_manager.js"></script>
    <script>
        // ƒê·∫£m b·∫£o Supabase ƒë√£ load xong r·ªìi m·ªõi init Auth
        window.addEventListener('load', () => {
            if (window.AuthComponent) {
                AuthComponent.init();
            }
        });
    </script>
</body>
</html>
