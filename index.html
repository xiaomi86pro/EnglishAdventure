<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English for Kids - Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Chalkboard+SE:wght@400;700&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/game.css">
</head>
<body>

    <!-- 1. Cột UserUI bên trái (1/6 màn hình, dài hết cỡ) -->
    <aside id="userUI" class="w-1/6 h-full rounded-3xl p-4 flex flex-col items-center gap-6 game-card">
        <!-- Nội dung sẽ được thêm vào đây -->
    </aside>

    <!-- 3. Khung Container ở giữa (Chiếm phần còn lại) -->
    <main id="container" class="flex-1 h-full flex flex-col gap-2">
        
        <!-- Vùng 1: Battle View (1/3 khung giữa) -->
        <section id="battleview" class="h-1/3 rounded-3xl p-4 game-card relative overflow-hidden">
            <div class="flex justify-between items-center h-full">
                <div id="hero" class="sprite"></div>
                <div id="monster" class="sprite"></div>
            </div>
        </section>

        <!-- Vùng 2: Question Area (Phần còn lại chiếm 2/3) -->
        <section id="questionarea" class="flex-1 rounded-3xl p-6 game-card flex flex-col items-center justify-center">
            <!-- Nội dung sẽ được thêm vào đây -->
        </section>
    </main>

    <!-- 2. Cột Dashboard bên phải (1/6 màn hình, dài hết cỡ) -->
    <aside id="dashboard" class="w-1/6 h-full rounded-3xl p-4 flex flex-col gap-4 game-card">
        <div id="monster-info"></div>
        <div id="answers-history" class="mt-4 space-y-2 flex-1 overflow-y-auto pr-2"></div>
        <div class="mt-auto border-t-2 border-white/50 pt-4">          
            <a href="admin.html" class="flex items-center gap-2 p-3 rounded-2xl bg-white/30 hover:bg-white/50 transition-all text-red-600 font-bold group">
                <span class="text-2xl group-hover:rotate-90 transition-transform duration-500">⚙️</span>
                <span class="text-sm uppercase tracking-wider">Quản trị</span>
            </a>
        </div>
    </aside>

    <script type="module" src="./js/supabase_config.js"></script>
    <script src="./js/audio_manager.js"></script>
    <script src="./js/auth_component.js"></script>
    <script src="./js/game_engine.js"></script>
    <script type="module" src="./js/question/question_manager.js"></script>
    <script>
        // Đảm bảo Supabase đã load xong rồi mới init Auth
        window.addEventListener('load', () => {
            if (window.AuthComponent) {
                AuthComponent.init();
            }
        });
    </script>

</body>
</html>